# Quick Security Reference

## Protected Files & Folders

### üîê Never Commit These:
- `.env` - Contains your actual API keys
- `.agent/` - Contains local development state and conversation history
- `*.wav` - Audio recordings (may contain sensitive voice data)

### ‚úÖ Safe to Commit:
- `.env.example` - Template without real secrets
- `.gitignore` - Defines what to ignore
- All Python source files (now use environment variables)

## Quick Checks

### Verify .gitignore is working:
```bash
git check-ignore .env .agent
```
Both should be listed (meaning they're ignored).

### Check for hardcoded secrets:
```bash
grep -r "gsk_" --include="*.py" . | grep -v ".env"
```
Should return nothing (no hardcoded API keys).

### View what Git will commit:
```bash
git status
```
Should NOT show `.env` or `.agent/` in the list.

## Environment Setup (New Machine)

1. Copy the template:
   ```bash
   cp .env.example .env
   ```

2. Edit `.env` and add your API key:
   ```bash
   nano .env
   ```

3. Verify it's ignored:
   ```bash
   git check-ignore .env
   ```

## Emergency: If Secrets Were Committed

1. **Immediately** rotate your API key at https://console.groq.com/keys
2. Update `.env` with the new key
3. Remove from Git history:
   ```bash
   # Option 1: Using BFG Repo-Cleaner (recommended)
   bfg --replace-text passwords.txt
   
   # Option 2: Using git filter-branch
   git filter-branch --force --index-filter \
     "git rm --cached --ignore-unmatch .env" \
     --prune-empty --tag-name-filter cat -- --all
   ```
4. Force push (if using remote):
   ```bash
   git push origin --force --all
   ```

## File Permissions

The `.env` file should have restricted permissions:
```bash
chmod 600 .env  # Only owner can read/write
ls -la .env     # Should show: -rw-------
```
